(this.webpackJsonpfyp=this.webpackJsonpfyp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),i=(a(101),a(102),a(55)),l=a(11),o=a(12),j=a(150),b=a(151),u=a(152),d=a(153),h=a(167),O=a(155),f=a(156),x=a(166),p=a(74),m=a.n(p),v=a(78),g=a.n(v),y=a(79),k=a.n(y),w=a(2);function D(e,t){e.push(t)}var T=function(){var e,t,a,n=Object(c.useRef)("/dashboard/schedule"),s=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useState)({checkbox1:!0,checkbox2:!1}),p=Object(o.a)(i,2),v=p[0],y=p[1],T=Object(l.f)(),S=Object(l.g)();"/"!==S.pathname&&(e=Object(w.jsx)(m.a,{}),t=!1),"/"===S.pathname&&(a="Log In",t=!0),S.pathname.includes("schedule")&&(a="Schedule",t=!1);var E=Object(c.useState)(!1),R=Object(o.a)(E,2),C=R[0],P=R[1];function F(){s.current.checked&&r.current.checked?(n.current="/dashboard/schedule/s&a",y({checkbox1:!0,checkbox2:!0})):s.current.checked?(n.current="/dashboard/schedule/s",y({checkbox1:!0,checkbox2:!1})):r.current.checked?(n.current="/dashboard/schedule/a",y({checkbox1:!1,checkbox2:!0})):(n.current="/dashboard/schedule",y({checkbox1:!1,checkbox2:!1}))}return Object(c.useEffect)((function(){switch(S.pathname){case"/dashboard/schedule":y({checkbox1:!1,checkbox2:!1});break;case"/dashboard/schedule/s":y({checkbox1:!0,checkbox2:!1});break;case"/dashboard/schedule/a":y({checkbox1:!1,checkbox2:!0});break;case"/dashboard/schedule/s&a":y({checkbox1:!0,checkbox2:!0});break;default:y({checkbox1:!1,checkbox2:!1})}}),[C,S.pathname]),Object(w.jsxs)("div",{children:[Object(w.jsx)(j.a,{color:"primary",children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(u.a,{edge:"start",color:"inherit",disabled:t,onClick:function(){return P(!0)},children:e}),Object(w.jsx)(d.a,{variant:"h6",children:a})]})}),Object(w.jsx)(h.a,{open:C,onOpen:function(){return P(!0)},onClose:function(){return P(!1),void(S!==n&&T.push(n.current))},disableSwipeToOpen:t,children:Object(w.jsxs)(O.a,{component:"nav",children:[Object(w.jsxs)(f.a,{button:!0,selected:!0,style:{marginTop:"20vh"},onClick:function(){D(T,"/dashboard/schedule"),P(!1)},children:[Object(w.jsx)(g.a,{}),"Schedule"]}),Object(w.jsxs)(f.a,{children:[Object(w.jsx)(x.a,{inputRef:s,onChange:function(){return F()},checked:v.checkbox1}),"Shifts"]}),Object(w.jsxs)(f.a,{children:[Object(w.jsx)(x.a,{inputRef:r,onChange:function(){return F()},checked:v.checkbox2}),"Availability"]}),Object(w.jsx)(f.a,{divider:!0}),Object(w.jsxs)(f.a,{button:!0,onClick:function(){!function(e){fetch("http://localhost:5000/login/logout",{method:"GET",mode:"cors",credentials:"include"}).then((function(e){return e.text()})).then((function(t){"logout_success"===t&&D(e,"/")}))}(T),P(!1)},children:[Object(w.jsx)(k.a,{}),"Log Out"]})]})})]})};T.defaultProps={menuIcon:!0};var S=T,E=a(20),R=a(165),C=a(158),P=a(157),F=function(){var e=Object(l.f)();Object(c.useEffect)((function(){fetch("http://localhost:5000/login/isAuth",{method:"GET",mode:"cors",credentials:"include"}).then((function(e){return e.text()})).then((function(t){console.log(t),"false"!==t&&e.push("/dashboard/schedule/s")}))}),[e]);var t=Object(c.useState)({email:"",pass:""}),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),j=i[0],b=i[1];function u(){var t={loginEmail:n.email,loginPass:n.pass};f.validEmail&&f.validPass&&fetch("http://localhost:5000/login/process",{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return console.log(e.status),202===e.status?{response:e.json(),status:e.status}:e.text()})).then((function(t){202===t.status?(b(""),e.push("/dashboard/schedule/s")):b(t)}))}var h=Object(c.useState)({validEmail:!0,emailError:"",validPass:!0,passError:""}),O=Object(o.a)(h,2),f=O[0],x=O[1],p=Object(c.useState)({email:!1,pass:!1}),m=Object(o.a)(p,2),v=m[0],g=m[1],y=function(){v.email||g((function(e){return Object(E.a)(Object(E.a)({},e),{},{email:!0})})),v.pass||g((function(e){return Object(E.a)(Object(E.a)({},e),{},{pass:!0})})),n.email.indexOf("@")>0&&n.email.indexOf(".")>2?x((function(e){return Object(E.a)(Object(E.a)({},e),{},{validEmail:!0,emailError:""})})):x((function(e){return Object(E.a)(Object(E.a)({},e),{},{validEmail:!1,emailError:"Please Enter a Valid Email"})})),n.pass<1?x((function(e){return Object(E.a)(Object(E.a)({},e),{},{validPass:!1,passError:"Please Enter Your Password"})})):x((function(e){return Object(E.a)(Object(E.a)({},e),{},{validPass:!0,passError:""})}))},k=Object(P.a)({root:{paddingBottom:"1.5em"}})();return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("section",{style:{display:"flex",flexDirection:"Column",alignItems:"center"},children:Object(w.jsxs)("form",{id:"login-form","aria-label":"Login Form",style:{display:"flex",alignItems:"center",flexDirection:"column",width:"90vw",marginTop:"30vh",maxWidth:"300px"},children:[Object(w.jsx)(R.a,{label:"Email",variant:"outlined",className:k.root,autoFocus:!0,fullWidth:!0,inputProps:{type:"email",form:"login-form",name:"loginEmail"},onChange:function(e){s({email:e.target.value,pass:n.pass}),v.email&&y()},onBlur:y,error:!f.validEmail,helperText:f.emailError,"aria-label":"Email"}),Object(w.jsx)(R.a,{label:"Passoword",variant:"outlined",inputProps:{type:"password",form:"loginForm",name:"loginPass"},fullWidth:!0,onChange:function(e){s({email:n.email,pass:e.target.value}),v.pass&&y()},onBlur:y,onKeyPress:function(e){!function(e){"Enter"===e.key&&u()}(e)},error:!f.validPass,helperText:f.passError,"aria-label":"Passoword",className:k.root}),Object(w.jsx)(d.a,{children:j}),Object(w.jsx)(C.a,{onClick:u,variant:"contained",size:"large",color:"secondary",style:{alignSelf:"flex-end"},children:"Log In"})]})})})},N=a(45),I=a.n(N),M=a(62),J=Object(P.a)({root:{borderTop:"1px solid",borderColor:"rgb(163, 149, 149, 0.56)",height:"1.1em",display:"flex",alignItems:"flex-start",justifyContent:"left"}}),A=n.a.forwardRef((function(e,t){var a=J();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:a.root,ref:t,children:Object(w.jsx)("div",{children:e.label})}),Object(w.jsx)("div",{className:a.root}),Object(w.jsx)("div",{className:a.root}),Object(w.jsx)("div",{className:a.root})]})}));A.defaultProps={label:""};var L=A,q=a(159),B=a(160),W=a(168),Y=a(161),G=a(81),H=a.n(G),z=a(80),_=a.n(z),K=Object(P.a)((function(e){return{availability:{backgroundColor:"#a4a4a4"},shift:{backgroundColor:e.palette.secondary.light}}}));function U(e){return+(e=e.split(":"))[0]+ +e[1]/60}function V(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var Q=function(e){var t=Object(l.g)(),a=K(),n=Object(c.useRef)();Object(c.useEffect)((function(){if(V(new Date(e.date),new Date(e.calendarDate))&&U(e.startTime)<=b&&U(e.endTime)>b&&j(!0),V(new Date(e.date),new Date(e.calendarDate)))switch(t.pathname){case"/dashboard/schedule":n.current.style.display="none";break;case"/dashboard/schedule/s":"shift"===e.type?n.current.style.display="flex":n.current.style.display="none";break;case"/dashboard/schedule/a":"availability"===e.type?n.current.style.display="flex":n.current.style.display="none";break;default:n.current.style.display="flex"}else n.current.style.display="none"})),Object(c.useEffect)((function(){}),[t.pathname]);var s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],j=r[1],b=U("".concat((new Date).getHours(),":").concat((new Date).getMinutes()));return Object(w.jsx)("div",{ref:n,style:{justifyContent:"flex-end",width:"70vw",marginRight:"5vw",position:"absolute",top:"".concat(e.offset,"px"),height:"".concat(e.bottom-e.offset,"px"),right:"0%"},children:Object(w.jsx)(q.a,{className:"availability"===e.type?a.availability:a.shift,style:{width:"100%"},children:Object(w.jsxs)(B.a,{style:{padding:"10px"},children:[Object(w.jsxs)(d.a,{variant:"h5",children:[e.startTime," - ",e.endTime]}),Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(w.jsx)(W.a,{variant:"circular",style:{width:"1.3em",height:"1.3em",marginRight:"0.5em"},children:"J"}),Object(w.jsx)(d.a,{children:"John Smith"})]}),Object(w.jsx)(u.a,{style:{display:"shift"===e.type?"inline":"none"},children:Object(w.jsx)(_.a,{style:{color:"#9c64a6"},fontSize:"large"})})]}),Object(w.jsx)(d.a,{style:{display:"shift"===e.type?"inline":"none"},variant:"subtitle2",children:"Placeholder Shift Details"}),"shift"===e.type?Object(w.jsxs)(Y.a,{style:{display:i?"flex":"none",alignItems:"center",justifyContent:"center",paddingTop:"0.5em"},children:[Object(w.jsx)(H.a,{style:{color:"red"},fontSize:"small"}),Object(w.jsx)(d.a,{style:{color:"red"},children:"Live Session"})]}):Object(w.jsx)(d.a,{children:"Unavailable to work"})]})})})},X=a(68),Z=a(82),$=a.n(Z),ee=a(83),te=a.n(ee),ae=function(e){var t=Object(c.useState)(new Date),a=Object(o.a)(t,2),n=a[0],s=a[1],r=e.changeDate;function i(e,t){var a=new Date(e);a="-"===t?a.setDate(a.getDate()-1):a.setDate(a.getDate()+1),s(new Date(a)),r(new Date(a))}return Object(w.jsx)("div",{children:Object(w.jsxs)(X.a,{variant:"outlined",square:!0,style:{height:"10vw",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(w.jsx)(u.a,{onClick:function(){i(new Date(n),"-")},children:Object(w.jsx)($.a,{})}),Object(w.jsxs)(d.a,{children:[new Date(n).getDate(),"/",new Date(n).getMonth()+1,"/",new Date(n).getFullYear()]}),Object(w.jsx)(u.a,{onClick:function(){i(new Date(n),"+")},children:Object(w.jsx)(te.a,{})})]})})};function ce(e,t,a,c){var n=(t-e)*(a+c/60-7)/14;return n+=e,String(Math.round(n))}var ne=function(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useRef)({first:0,last:0}),s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(c.useRef)(),b=Object(c.useState)("0"),u=Object(o.a)(b,2),d=u[0],h=u[1],O=Object(c.useState)("inline"),f=Object(o.a)(O,2),x=f[0],p=f[1],m=Object(c.useState)(new Date),v=Object(o.a)(m,2),g=v[0],y=v[1],k=Object(c.useState)([]),D=Object(o.a)(k,2),T=D[0],S=D[1],E=Object(c.useRef)([]),R=Object(c.useRef)([]);function C(){return(C=Object(M.a)(I.a.mark((function t(){var a,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("S"===e.userType){t.next=9;break}return t.next=3,fetch("http://localhost:5000/database/availability",{mode:"cors",credentials:"include",method:"GET"});case 3:return a=t.sent,t.next=6,a.json();case 6:a=t.sent,E.current=a,S(P(E.current,"availability"));case 9:return t.next=11,fetch("http://localhost:5000/database/requests",{mode:"cors",credentials:"include",method:"GET"});case 11:return c=t.sent,t.next=14,c.json();case 14:c=t.sent,R.current=c,S((function(e){return e.concat(P(R.current,"shift"))}));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(e,t){return e.map((function(e){var a=["",""],c=["",""];return void 0!==e&&(a="availability"===t?e.unavailableFrom.split(":"):e.startTime.split(":"),c="availability"===t?e.unavailableTo.split(":"):e.endTime.split(":")),null!==e?Object(w.jsx)(Q,{startTime:"".concat(a[0],":").concat(a[1]),endTime:"".concat(c[0],":").concat(c[1]),date:new Date("availability"===t?e.availableDate:e.requestDate),calendarDate:g,type:t,offset:ce(n.current.first,n.current.last,+a[0],+a[1]),bottom:ce(n.current.first,n.current.last,+c[0],+c[1])},e.session_id.toString()):null}))}function F(){j.current=setTimeout((function(){var e=new Date;console.log("updated line"),e.getHours()>21||e.getHours()<7?p("none"):p("inline"),h(ce(n.current.first,n.current.last,e.getHours(),e.getMinutes())),F()}),6e4)}return Object(c.useEffect)((function(){i||(l(!0),n.current={first:t.current.offsetTop,last:a.current.offsetTop}),new Date(g).getDate()===(new Date).getDate()&&new Date(g).getMonth()===(new Date).getMonth()&&new Date(g).getFullYear()===(new Date).getFullYear()?p("inline"):p("none")})),Object(c.useEffect)((function(){S(P(E.current,"availability").concat(P(R.current,"shift")))}),[g]),Object(c.useEffect)((function(){return h(ce(n.current.first,n.current.last,g.getHours(),g.getMinutes())),F(),function(){C.apply(this,arguments)}(),function(){return clearTimeout(j.current)}}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)("hr",{style:{color:"red",backgroundColor:"red",height:"2px",border:"none",position:"absolute",width:"100%",margin:"0",top:"".concat(d,"px"),display:"".concat(x)}}),Object(w.jsx)(ae,{changeDate:function(e){y(new Date(e))}}),Object(w.jsx)(L,{label:"7:00",ref:t}),Object(w.jsx)(L,{label:"8:00"}),Object(w.jsx)(L,{label:"9:00"}),Object(w.jsx)(L,{label:"10:00"}),Object(w.jsx)(L,{label:"11:00"}),Object(w.jsx)(L,{label:"12:00"}),Object(w.jsx)(L,{label:"13:00"}),Object(w.jsx)(L,{label:"14:00"}),Object(w.jsx)(L,{label:"15:00"}),Object(w.jsx)(L,{label:"16:00"}),Object(w.jsx)(L,{label:"17:00"}),Object(w.jsx)(L,{label:"18:00"}),Object(w.jsx)(L,{label:"19:00"}),Object(w.jsx)(L,{label:"20:00"}),Object(w.jsx)("div",{id:"placeholder",ref:a}),T]})},se=a(162),re=a(84),ie=a.n(re),le=a(163),oe=a(85),je=a.n(oe),be=a(154),ue=function(e){for(var t=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)(),l=Object(c.useRef)(),o=Object(c.useRef)(),j=[],b=[],u=6,d=-15,h=0;h<49;h++){h%4===0&&u++,(d+=15)>45&&(d=0);var O=void 0;O=0!==d?"".concat(u,":").concat(d):"".concat(u,":00"),j.push(Object(w.jsx)("option",{value:O,children:O}))}for(var f=1;f<32;f++)b.push(Object(w.jsx)("option",{value:f,children:f}));return console.log(e.userType),Object(w.jsx)("div",{children:Object(w.jsxs)("form",{action:"http://localhost:5000/database/sendRequest",method:"POST",children:[Object(w.jsx)("label",{htmlFor:"startTime",children:"Start Time"}),Object(w.jsx)("select",{name:"startTime",ref:t,children:j}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"endTime",children:"End Time"}),Object(w.jsx)("select",{name:"endTime",ref:a,children:j}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"dateDay",children:"Date:"}),Object(w.jsx)("select",{name:"day",ref:n,children:b}),Object(w.jsxs)("select",{name:"month",id:"monthDrop",ref:s,children:[Object(w.jsx)("option",{value:"01",children:"Jan"}),Object(w.jsx)("option",{value:"02",children:"Feb"}),Object(w.jsx)("option",{value:"03",children:"Mar"}),Object(w.jsx)("option",{value:"04",children:"Apr"}),Object(w.jsx)("option",{value:"05",children:"May"}),Object(w.jsx)("option",{value:"06",children:"Jun"}),Object(w.jsx)("option",{value:"07",children:"Jul"}),Object(w.jsx)("option",{value:"08",children:"Aug"}),Object(w.jsx)("option",{value:"09",children:"Sep"}),Object(w.jsx)("option",{value:"10",children:"Oct"}),Object(w.jsx)("option",{value:"11",children:"Nov"}),Object(w.jsx)("option",{value:"12",children:"Dec"})]}),Object(w.jsx)("select",{name:"year",children:Object(w.jsx)("option",{value:"2021",ref:r,children:"2021"})}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"S"===e.userType&&Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"checkbox",ref:i,name:"practical-type"}),Object(w.jsx)("label",{htmlFor:"practical-type",children:"Practical Support"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"checkbox",ref:l,name:"note-taking-type"}),Object(w.jsx)("label",{htmlFor:"note-taking-type",children:"Note-Taking Support"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("textarea",{style:{maxWidth:"95vw",with:"100vw"},name:"details",ref:o,cols:"53",rows:"10",maxLength:"1000",placeholder:"Describe what you need help with..."})]}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"submit",value:"Request"})]})})},de=Object(P.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),he=n.a.forwardRef((function(e,t){return Object(w.jsx)(be.a,Object(E.a)({direction:"up",ref:t},e))}));function Oe(e){var t=de(),a=Object(c.useState)(!1),n=Object(o.a)(a,2),s=n[0],r=n[1],i=function(){r(!1)};return Object(w.jsxs)("div",{children:[Object(w.jsx)(se.a,{size:"large",style:{position:"fixed",bottom:"30px",right:"30px"},onClick:function(){r(!0)},color:"primary",children:Object(w.jsx)(ie.a,{})}),Object(w.jsxs)(le.a,{fullScreen:!0,open:s,onClose:i,TransitionComponent:he,children:[Object(w.jsx)(j.a,{className:t.appBar,children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(u.a,{edge:"start",color:"inherit",onClick:i,"aria-label":"close",children:Object(w.jsx)(je.a,{})}),Object(w.jsx)(d.a,{variant:"h6",className:t.title,children:"New Request"})]})}),Object(w.jsx)(ue,{userType:e.userType})]})]})}var fe=function(){var e=Object(l.f)(),t=Object(c.useState)(null),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),j=i[0],b=i[1];return Object(c.useEffect)((function(){function t(){return(t=Object(M.a)(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/login/isAuth",{method:"GET",mode:"cors",credentials:"include"});case 2:if(202===(a=t.sent).status){t.next=7;break}e.push("/"),t.next=22;break;case 7:return t.next=9,a.text();case 9:a=t.sent,t.t0=a,t.next="W"===t.t0?13:"S"===t.t0?15:"A"===t.t0?17:19;break;case 13:return b("Worker"),t.abrupt("break",21);case 15:return b("Student"),t.abrupt("break",21);case 17:return b("Admin"),t.abrupt("break",21);case 19:return b(""),t.abrupt("break",21);case 21:s(a);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(w.jsxs)("div",{style:{marginTop:"10vh"},children:[Object(w.jsx)("h1",{children:j}),n&&Object(w.jsx)(ne,{userType:n}),Object(w.jsx)(Oe,{userType:n})]})};var xe=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(i.a,{children:[Object(w.jsx)(S,{}),Object(w.jsxs)(l.c,{children:[Object(w.jsx)(l.a,{exact:!0,path:"/",children:Object(w.jsx)(F,{})}),Object(w.jsx)(l.a,{path:"/dashboard/schedule",children:Object(w.jsx)(fe,{})}),Object(w.jsx)(l.a,{path:"/slide",children:Object(w.jsx)(Oe,{})})]})]})})},pe=a(86),me=a(164),ve=Object(pe.a)({palette:{primary:{main:"#1a237e",light:"#534bae",dark:"#000051"},secondary:{main:"#ce93d8",light:"#ffc4ff",dark:"#9c64a6"}}});r.a.render(Object(w.jsx)(me.a,{theme:ve,children:Object(w.jsx)(xe,{})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.081f7ef0.chunk.js.map